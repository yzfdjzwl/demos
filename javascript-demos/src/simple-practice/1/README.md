## 动态表格流程

1. 基本布局

2. 表格的增删查改

	* 点击增加按钮增加一行
		
		弹出一个框，添加数据，保存按钮，取消按钮

	* 点击删除按钮，询问是否删除，点击是，则删除，点击不是，则取消删除
	
	* 在最上面有一个查找框，过滤字符串，table里显示含有查找框里的内容的行。

	* 点击修改，可以修改那一行的内容。然后，要么保存，要么取消。

    * 最上面有搜索，最右边的那一列是，修改与删除，点击修改后，然后修改按钮变为了保存按钮。删除按钮变成了取消按钮。点击删除后，询问是否删除，如果是，则删除。

	* 最下面有一个增加按钮。


## 遇见

### 实现全选的逻辑

* 点击全选按钮时候，判断自己是否是选中，如果选中，所有选中（显示删除按钮）；如果没有，则所有都不选中（隐藏删除按钮）。

* 点击其他按钮时，如果自己没有选中，则设置全选按钮不选中。对于按钮来说，先隐藏按钮，遍历所有，如果有一个选中，则显示按钮。

* 如果其他按钮自己选中，则设置全选按钮选中，然后依次遍历其他按钮是否选中，一旦有没有选中的，则全选按钮不选中。显示按钮。

### 事件流

### 数据类型判断

### 弹出层

### table的基本操作

### 数组的基本操作

### 点击修改，如何获得当前行的索引

* 使用rowIndex和cellIndex属性

* 可以获得当前对象，通过dom操作获得同级的其他DOM对象。

* 如果是checkbox， 可以遍历所有，判断是否选中，最后返回一个数组，就可以得到index。



### 数据验证--- 正则表达式

### input的基本认识

input不可编辑：

* "disable:true" 文字会变为灰色，不可编辑

* "readOnly:true" 文字不会变色，不可编辑

点击修改（先整体后细节）：

1. 去掉语文、数学、英语的readOnly。

2. 该行的修改变为取消，删除变为保存。

3. 点击取消，则之前的成绩不变，点击保存，验证成绩，更新成绩，设置readOnly。

4. 成绩实时更改时，要求总成绩实时变更。

### 注意的地方

其实很多地方都可以使用rowIndex和cellIndex，但是自己却用了常规的DOM操作，极大的增加了代码量。

没有办法扩展是一个大问题，需要重构。

### 查询功能

当搜索框里为空时，显示table所有。

当搜索框里onchang时， 做一个模糊查询。
	如果没有找到，则显示所有的，如果找到了，就只是列出找到的学生。
将所有的学生姓名收集起来，放入一个数组内。
对数组的每个字符串，进行检索。
同时设置所有的tr都隐藏。
如果有，则显示。

以姓名索引， 没有做检测是否有同一姓名，但是我们假装姓名唯一。

### 使用localStorage

* 写入localstorage。

	* 第一步，new一个student对象。
	
	* 第二步，传入insertStorage, 并在insertStorage中，使用JSON.stringify(student)转为JSON对象，JSON对象的键值对类型是字符串。

* 读取数据。
	
	* 第一步，将键值读取出来。

	* 第二步，将值转换为json对象，并且对对象进行遍历，完成数据的插入。

* 增加数据

* 删除数据

	* 

for in 遍历数组 
delete
JSON.stringify(student) 
JSON.parse(copyStu)



 

